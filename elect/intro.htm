<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML LANG="en">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<META NAME="Description" CONTENT="Make an electric circuit online: Introduction to electricity">
<META NAME="keywords" CONTENT="electric, circuit, battery, light, resistor, simple, parallel">
<TITLE>Introduction to electricity</TITLE>
<LINK REL=STYLESHEET TYPE="text/css" HREF="elect.css">
<SCRIPT TYPE="TEXT/JAVASCRIPT">

///// Definitions

var wide = 4
var deep = 3
var grid = new Array(deep)

var sel = ''
var para = 1

var mes1 = "You are not allowed any more wire."
var mes2 = "You are only allowed one battery."
var mes3 = "You need to complete a simple circuit first."
var mes4 = "You haven't connected the battery to to components \n so nothing is going to happen. Add more wire."
var mes5 = "You don't have a battery \n so nothing is going to happen."
var mes6 = "You don't have a complete wire circuit \n so nothing is going to happen. \n Add more wire."
var mes7 = "Only 3 parallel circuits allowed."
var mes8 = "You can't put components here"
var mes9 = "You have a short circuit!!! \n There are no components on a circuit \n so your battery has burnt out. \n You will have to start again."
var mes10 = "Please choose a component"


// Produce initial display

function initdisp() {

  for (i = 0; i <= wide; i++) {var grline = new Array(deep); grid [i] = grline}

  document.write('<TABLE CELLPADDING=0 CELLSPACING=0>')
  for (j = 0; j <= deep ; j++) {
    document.write('<TR>')
    for (i = 0; i <= wide ; i++) {
      document.write('<TD><IMG SRC="back.gif" NAME="x' + i + 'y' + j + '"') 
      document.write(' onmousedown="check(' + i + ',' + j + ')" WIDTH=80 HEIGHT=80></' + 'TD>')
      grid [i] [j] = 'back'
    } 
    document.write('</' + 'TR>')
  }
  document.write('</' + 'TABLE>')

  set (1,1,'wire'); set (2,1,'wire'); set (3,1,'wire')

}


// clear selected component

function clearsel() {
  document.images["current"].src = 'back.gif'
  sel=''
}


// Set a component

function choose(comp) {

  sel = comp

  if (sel == 'battery') {
    if (grid [2] [0] == 'battery') {
      alert (mes2); clearsel(); return
    }
    else {set(2,0,'battery'); set(3,0,'switch'); clearsel(); return}
  }
     
  if (sel == 'circuit') {
    newcircuit ()
    set(0,0,'ltcorner'); set(1,0,'wirex'); set(2,0,'battery'); set(3,0,'switch'); set(4,0,'rtcorner')
    set(0,1,'lbcorner'); set(1,1,'lit0'); set(2,1,'wire'); set(3,1,'wire'); set(4,1,'rbcorner')
    clearsel(); 
    return
  }

  document.images["current"].src = sel + '.gif'

}


// Set component in grid

function set(i,j,type) {

  document.images["x" + i + "y" + j].src = type + '.gif'
  grid [i] [j] = type
}


// Set wire for simple circuit

function simplecirc() {

  if (grid [4] [0] != 'back') {alert (mes1); return}

  if (grid [0] [0] == 'back') {
    set(1,0,'wirex'); set(0,0,'ltcorner'); set(0,1,'lbcorner')
    document.images["wire"].src = 'wire2.gif'
    return
  }

  if (grid [2] [0] == 'back') {set(2,0,'wirex'); set(3,0,'wirex')}

  set(4,0,'rtcorner'); set(4,1,'rbcorner')
  document.images["wire"].src = 'wire1.gif'
  runcirc()

}


// Set wire for parallel circuit

function paracirc() {

  if (grid [4] [0] == 'back') {alert (mes3); return}

  if (para == 3) {alert (mes7); return}

  if (grid [3] [0] == 'switchon') {set(3,0,'switch'); runcirc()}

  set(0,para,'lscorner'); set(4,para,'rscorner')

  para = para + 1
  set(0,para,'lbcorner'); set(1,para,'wire'); set(2,para,'wire'); set(3,para,'wire'); set(4,para,'rbcorner')
}


// Open or close switch

function changesw() {

  if (grid [2] [0] != 'battery') {alert (mes5); return}

  if (grid [3] [0] == 'switchon') {set(3,0,'switch'); runcirc (); return}

  set(3,0,'switchon')

  if (grid [0] [0] =='back') {alert (mes4); set(3,0,'switch'); return}

  if (grid [4] [0] =='back') {alert (mes6); set(3,0,'switch'); return}

  runcirc ()

}


// Check mouse click (to add a component)

function check(i,j) {

  if (grid [i] [j] == 'switch') {set(i,j,'switchon'); runcirc(); return}

  if (grid [i] [j] == 'switchon') {set(i,j,'switch'); runcirc(); return}

  if (sel == '') {alert (mes10); return}

  if (j == 0 || j > para || i == 0 || i == 4) {alert (mes8); return}

  set(i,j,sel); runcirc()
}


// Run circuit

function runcirc() {
  
  var rst;  var flash; var sw; var comp

  if (grid [2] [0] != 'battery' || grid [4] [0] =='back') {return}

  for (j = 1; j <= para ; j++) {
    rst = 0;  flash = 0; sw = 1
    if (grid [3] [0] != 'switchon') {sw = 0}
    for (i = 1; i < wide ; i++) {
	  comp = grid [i] [j].substr(0,1)
      if (comp == 'l' || comp == 'm' || comp == 'r') {rst = rst + 1}
      else if (comp == 'f') {rst = rst + 1; flash = 1}
      else if (comp == 'h') {rst = rst + 2}
      else if (comp == 'd') {sw = 0}
      else if (grid [i] [j] == 'switch') {sw = 0}
    }
    if (sw == 1 && rst == 0) {alert (mes9); newcircuit(); return}
    if (sw == 0 || rst > 3) {rst = 0} 
    for (i = 1; i < wide ; i++) {
      comp = grid [i] [j].substr(0,1)
      if      (comp == 'l' && flash == 1 && rst > 0) {document.images["x" + i + "y" + j].src = 'flash' + rst + '.gif'}
      else if (comp == 'm' && flash == 1 && rst > 0) {document.images["x" + i + "y" + j].src = 'motorfl' + rst + '.gif'}
      else if (comp == 'l') {document.images["x" + i + "y" + j].src = 'lit' + rst + '.gif'}
      else if (comp == 'f') {document.images["x" + i + "y" + j].src = 'flash' + rst + '.gif'}
      else if (comp == 'm') {document.images["x" + i + "y" + j].src = 'motor' + rst + '.gif'}
    }
  }
}


// New Circuit

function newcircuit()
{
  for (j = 0; j <= deep ; j++) {
    for (i = 0; i <= wide ; i++) {
	  if (grid [i] [j] != 'back') {set(i,j,'back')}
	}
  }
  set (1,1,'wire'); set (2,1,'wire'); set (3,1,'wire')
  para = 1
  clearsel()
  document.images["wire"].src = 'wire1.gif'
}

</SCRIPT>
</HEAD>

<BODY ONLOAD="clearsel()">
<A HREF="index.htm"><IMG SRC="head.gif" ALT="Index" TITLE="Index" CLASS=linkhome></A>

<H1>
  <IMG CLASS=headl SRC="head2.gif" ALT="">
  Introduction to Electricity
  <IMG CLASS=headr SRC="head2.gif" ALT="">
</H1>
<HR>
<P CLASS=subhead>
<A HREF="index.htm">Index</A> ---
Introduction to electricity ---
<A HREF="ohms.htm">Voltage, Current, Resistance</A>
</P>

<TABLE><TR><TD VALIGN=TOP BGCOLOR="#FFFFFF">
<TABLE BORDER><TR><TD>
<SCRIPT TYPE="TEXT/JAVASCRIPT">initdisp();</SCRIPT>
</TD></TR></TABLE>

<P ALIGN=CENTER><INPUT TYPE=BUTTON ONCLICK="newcircuit()" VALUE="New circuit">
</P>


</TD><TD WIDTH=15></TD><TD VALIGN=TOP>

<FORM ACTION="#" NAME="opt">

<P>Click on the picture of a component on the right.  
The battery and wire will be added immediately. 
For other components, click on the diagram on the grey part of the wire. 
Add enough wire to complete the circuit. 
You can have up to three components in a simple circuit.
You can change a component by replacing it with another, or delete one. 
</P>

<P>Click on a switch in the circuit to close it. This will run the circuit. 
It might give you an error message explaining why it doesn't work. </P>

<P>If you wish, you can click on <I>Complete circuit</I> which will give you a 
working simple circuit with one light. You can add other components.</P>
<P ALIGN=CENTER><INPUT TYPE=BUTTON ONCLICK="choose('circuit')" VALUE="Complete circuit"></P>

<P>Click on <I>Parallel circuit</I> for an extra circuit of wire. 
Add components in the same way as for a simple circuit. You can have 3 circuits in all.
Each circuit must have at least one component to prevent a short circuit.
<P ALIGN=CENTER><INPUT TYPE=BUTTON ONCLICK="paracirc()" VALUE="Parallel circuit"></P>

<BR><P ALIGN=CENTER><A HREF="info.htm">Information for teachers</A></P>


</FORM>

</TD><TD WIDTH=15></TD><TD VALIGN=TOP ROWSPAN=2>

<TABLE>
<TR><TD><IMG SRC="back.gif" ALT="" WIDTH=40 HEIGHT=40 NAME=current BORDER=1></TD><TD><B>selected<BR>component</B></TD></TR>
<TR><TD><IMG SRC="battery.gif" ALT="" WIDTH=40 HEIGHT=40 ONMOUSEDOWN="choose('battery')"></TD><TD>battery<BR>and switch</TD></TR>
<TR><TD><IMG SRC="wire1.gif" ALT="" WIDTH=40 HEIGHT=40 ONMOUSEDOWN="simplecirc()" NAME="wire"></TD><TD>wire</TD></TR>
<TR><TD><IMG SRC="lit0.gif" ALT="" WIDTH=40 HEIGHT=40 ONMOUSEDOWN="choose('lit0')"></TD><TD>light</TD></TR>
<TR><TD><IMG SRC="flash0.gif" ALT="" WIDTH=40 HEIGHT=40 ONMOUSEDOWN="choose('flash0')"></TD><TD>flashing<BR>light</TD></TR>
<TR><TD><IMG SRC="dead.gif" ALT="" WIDTH=40 HEIGHT=40 ONMOUSEDOWN="choose('dead')"></TD><TD>dead<BR>light</TD></TR>
<TR><TD><IMG SRC="motor0.gif" ALT="" WIDTH=40 HEIGHT=40 ONMOUSEDOWN="choose('motor0')"></TD><TD>motor</TD></TR>
<TR><TD><IMG SRC="resist.gif" ALT="" WIDTH=40 HEIGHT=40 ONMOUSEDOWN="choose('resist')"></TD><TD>resistance<BR>(medium)</TD></TR>
<TR><TD><IMG SRC="highres.gif" ALT="" WIDTH=40 HEIGHT=40 ONMOUSEDOWN="choose('highres')"></TD><TD>resistance<BR>(high)</TD></TR>
<TR><TD><IMG SRC="switch.gif" ALT="" WIDTH=40 HEIGHT=40 ONMOUSEDOWN="choose('switch')"></TD><TD>extra switch</TD></TR>
<TR><TD><IMG SRC="wire.gif" ALT="" WIDTH=40 HEIGHT=40 ONMOUSEDOWN="choose('wire')"></TD><TD>delete<BR>component</TD></TR>
</TABLE>

</TD></TR></TABLE>

<HR>

<P CLASS=copyright>
&copy; Jo Edkins 2007  - <A HREF="index.htm">index to electricity websites</A>
</P>

</BODY>
</HTML>